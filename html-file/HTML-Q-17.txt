<!DOCTYPE html>
<html>
<head>
  <title>Bank Transaction</title>
</head>
<body>

<h2>Bank Transaction System</h2>

<form method="post" action="">
  <label>Customer Name:</label>
  <input type="text" name="name" required><br><br>

  <label>Initial Balance:</label>
  <input type="number" name="balance" required><br><br>

  <label>Transaction Type:</label>
  <select name="action">
    <option value="deposit">Deposit</option>
    <option value="withdraw">Withdraw</option>
  </select><br><br>

  <label>Transaction Amount:</label>
  <input type="number" name="amount" required><br><br>

  <input type="submit" name="submit" value="Perform Transaction">
</form>

<?php
if (isset($_POST['submit'])) {
  $name = htmlspecialchars($_POST['name']);
  $balance = (float)$_POST['balance'];
  $action = $_POST['action'];
  $amount = (float)$_POST['amount'];

  // Transaction logic using control structures
  if ($amount <= 0) {
    echo "<p>Please enter a valid amount greater than 0.</p>";
  } else {
    switch ($action) {
      case "deposit":
        $balance += $amount;
        echo "<h3>Deposit Successful!</h3>";
        echo "<p>Dear $name, your updated balance is: Rs. $balance</p>";
        break;

      case "withdraw":
        if ($amount > $balance) {
          echo "<h3>Withdrawal Failed!</h3>";
          echo "<p>Insufficient balance for withdrawal, $name.</p>";
        } else {
          $balance -= $amount;
          echo "<h3>Withdrawal Successful!</h3>";
          echo "<p>Dear $name, your updated balance is: Rs. $balance</p>";
        }
        break;

      default:
        echo "<p>Invalid transaction type selected.</p>";
    }
  }
}
?>

</body>
</html>